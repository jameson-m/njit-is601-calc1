{% extends "base.html" %}
{% block title %}Index{% endblock %}
{% block head %}
    {{ super() }}
    <style type="text/css">
        .important { color: #336699; }
    </style>
{% endblock %}
{% block content %}
    <!-- <h1>Calculation Result</h1> -->

    <div style="display:flex;flex-direction:row;justify-content:center;align-items:center;">
        <div style="width:400px;">
            {% with messages = get_flashed_messages(category_filter=["success"]) %}
                {% if messages %}
                {% for message in messages %}
                    <div class="alert alert-success" role="alert">
                        {{message}}
                    </div>
                {% endfor %}
                {% endif %}
            {% endwith %}

            <div class="mb-3 row">
                <div class="card calculator-card">
                    <div class="card-body">
                        <h1 style="text-align:center;margin-bottom:20px"><i class="fas fa-calculator"></i>&nbsp;Calculator</h1>
                        <h3 style="text-align:center;" class="text-muted">Calculation Result</h3>
                        <div style="text-align:center;">
                            {% for value in values %}
                                <strong>Value {{ loop.index }}:</strong> {{ value }} <br>
                            {% endfor %}
                            <strong>Operation: </strong> {{ operation }} <br>
                            <strong>Result: </strong> {{ result }}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Results History Table -->
    <div style="margin-top:30px;">
        <h2>Results History</h2>
        <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Timestamp (UTC)</th>
                    <th scope="col">Input</th>
                    <th scope="col">Operation</th>
                    <th scope="col">Result</th>
                </tr>
                </thead>
                <tbody>
                    {% for row in results_history %}
                        <tr>
                            <td>{{ row[0] }}</td>
                            <td>{{ row[1] }}</td>
                            <td>{{ row[2] }}</td>
                            <td>{{ row[3] }}</td>
                            <td>{{ row[4] }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        
    </div>

{% endblock %}